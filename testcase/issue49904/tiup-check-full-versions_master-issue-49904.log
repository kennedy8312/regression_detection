
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v5.4.0-----------------
Server on v5.4.0 started.
Validation passed. v5.4.0 is a good label
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 
1
1
1
1
-----------------TiDB Version-----------------
tidb_version()
Release Version: v5.4.0
Edition: Community
Git Commit Hash: 55f3b24c1c9f506bd652ef1d162283541e428872
Git Branch: heads/refs/tags/v5.4.0
UTC Build Time: 2022-01-25 08:41:03
GoVersion: go1.16.4
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v5.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.0.0-----------------
Server on v6.0.0 started.
Validation failed at run 1. v6.0.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.0.0
Edition: Community
Git Commit Hash: 36a9810441ca0e496cbd22064af274b3be771081
Git Branch: heads/refs/tags/v6.0.0
UTC Build Time: 2022-03-31 10:27:58
GoVersion: go1.18
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v6.0.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.1.0-----------------
Server on v6.1.0 started.
Validation failed at run 1. v6.1.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.1.0
Edition: Community
Git Commit Hash: 1a89decdb192cbdce6a7b0020d71128bc964d30f
Git Branch: heads/refs/tags/v6.1.0
UTC Build Time: 2022-06-05 05:09:33
GoVersion: go1.18.2
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v6.1.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.2.0-----------------
Server on v6.2.0 started.
Validation failed at run 1. v6.2.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.2.0
Edition: Community
Git Commit Hash: daf2b17cdfe30c02ce282361009fb5bdb05f2b0e
Git Branch: heads/refs/tags/v6.2.0
UTC Build Time: 2022-08-22 13:38:40
GoVersion: go1.18.5
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.2.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.3.0-----------------
Server on v6.3.0 started.
Validation failed at run 1. v6.3.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.3.0
Edition: Community
Git Commit Hash: ecd67531f1721d3e49eb15a202ac7c0ae02291ec
Git Branch: heads/refs/tags/v6.3.0
UTC Build Time: 2022-09-23 14:21:08
GoVersion: go1.19.1
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.3.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.4.0-----------------
Server on v6.4.0 started.
Validation failed at run 1. v6.4.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.4.0
Edition: Community
Git Commit Hash: cf36a9ce2fe1039db3cf3444d51930b887df18a1
Git Branch: heads/refs/tags/v6.4.0
UTC Build Time: 2022-11-13 05:15:45
GoVersion: go1.19
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.5.0-----------------
Server on v6.5.0 started.
Validation failed at run 1. v6.5.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.5.0
Edition: Community
Git Commit Hash: 706c3fa3c526cdba5b3e9f066b1a568fb96c56e3
Git Branch: heads/refs/tags/v6.5.0
UTC Build Time: 2022-12-27 03:42:38
GoVersion: go1.19.3
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.5.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.6.0-----------------
Server on v6.6.0 started.
Validation failed at run 1. v6.6.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.6.0
Edition: Community
Git Commit Hash: f4ca0821fb96a2bdd37d2fb97eb26c07fc58d4e4
Git Branch: heads/refs/tags/v6.6.0
UTC Build Time: 2023-02-17 14:39:38
GoVersion: go1.19.5
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.6.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.0.0-----------------
Server on v7.0.0 started.
Validation failed at run 1. v7.0.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.0.0
Edition: Community
Git Commit Hash: 7376954cd868dbc44fc3015c9ef89c53749339a7
Git Branch: heads/refs/tags/v7.0.0
UTC Build Time: 2023-03-29 13:22:40
GoVersion: go1.20.2
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.0.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.1.0-----------------
Server on v7.1.0 started.
Validation failed at run 1. v7.1.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.1.0
Edition: Community
Git Commit Hash: 635a4362235e8a3c0043542e629532e3c7bb2756
Git Branch: heads/refs/tags/v7.1.0
UTC Build Time: 2023-05-30 10:50:03
GoVersion: go1.20.3
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.1.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.2.0-----------------
Server on v7.2.0 started.
Validation failed at run 1. v7.2.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.2.0
Edition: Community
Git Commit Hash: 9fd5f4a8e4f273a60fbe7d3848f85a1be8f0600b
Git Branch: heads/refs/tags/v7.2.0
UTC Build Time: 2023-06-27 14:56:57
GoVersion: go1.20.5
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.2.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.3.0-----------------
Server on v7.3.0 started.
Validation failed at run 1. v7.3.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.3.0
Edition: Community
Git Commit Hash: 40b72e7a9a4fc9670d4c5d974dd503a3c6097471
Git Branch: heads/refs/tags/v7.3.0
UTC Build Time: 2023-08-08 09:27:28
GoVersion: go1.20.7
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.3.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.4.0-----------------
Server on v7.4.0 started.
Validation failed at run 1. v7.4.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.4.0
Edition: Community
Git Commit Hash: 38cb4f3312be9199a983c0ef282d2ea2e28a7824
Git Branch: heads/refs/tags/v7.4.0
UTC Build Time: 2023-10-10 14:10:02
GoVersion: go1.21.0
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.5.0-----------------
Server on v7.5.0 started.
Validation failed at run 1. v7.5.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.5.0
Edition: Community
Git Commit Hash: 069631e2ecfedc000ffb92c67207bea81380f020
Git Branch: heads/refs/tags/v7.5.0
UTC Build Time: 2023-11-24 08:41:10
GoVersion: go1.21.3
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.5.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.6.0-----------------
Server on v7.6.0 started.
Validation failed at run 1. v7.6.0 is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.6.0
Edition: Community
Git Commit Hash: 52794d985ba6325d75a714d4eaa0838d59425eb6
Git Branch: heads/refs/tags/v7.6.0
UTC Build Time: 2024-01-22 14:13:53
GoVersion: go1.21.5
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.6.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on nightly-----------------
Server on nightly started.
Validation failed at run 1. nightly is a bad label.
Expected: 
1
1
1
1
Actual: 

-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue49904_testcase.sql
issue49904_testcase.sql: 
drop table if exists `tb416b66c`;

CREATE TABLE `tb416b66c` (
  `col_56` bigint(20) NOT NULL,
  `col_57` char(63) COLLATE utf8_unicode_ci NOT NULL,
  `col_58` text COLLATE utf8_unicode_ci NOT NULL,
  `col_59` text CHARACTER SET gbk COLLATE gbk_bin NOT NULL,
  `col_60` tinyint(1) NOT NULL,
  `col_61` decimal(22,12) DEFAULT '3329.3099'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
INSERT INTO `tb416b66c` VALUES (-9223372036854775807,'VR1_LBJG&qu','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,60925.925000000000), (-9223372036854775807,'58yh+m=qwqM5J^r#t9','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,1.705000000000), (-9223372036854775807,'=qV@CF6p3hcx3Lb+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,598765.000000000000), (-9223372036854775807,'udR+LP66m!9Z','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,69.690000000000), (-9223372036854775807,'tkNK)BM','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.808200000000), (-9223372036854775807,'yE_A','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,8.264000000000), (-9223372036854775807,'*nBn$','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,880.400000000000), (-9223372036854775807,'2Cg)^bX','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',1,1.893600000000), (-9223372036854775807,'*__mwqYGIYa-3+z@P4','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,707.480000000000), (-9223372036854775807,'v6dqU7L53Lb^Eyflp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2067.300000000000), (-9223372036854775807,'10(D','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,4927.566300000000), (-9223372036854775807,'YSA7kfi!_S%82','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.279000000000), (-9223372036854775807,'zz0hZet&DXsQ!DCFer','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.900000000000), (-9223372036854775807,'daqy0^G)25XB7irch$T','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,188742.680000000000), (-9223372036854775807,'7Ab)Ly','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3225.100000000000), (-9223372036854775807,'2','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,222915.000000000000), (-9223372036854775807,'1xPV^sZ1pl)$Y!Xn6','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,158598.900000000000), (-9223372036854775807,'7wm6*zxQyh3@5VZow','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.630000000000), (-9223372036854775807,'BI+','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,3340.724000000000), (-9223372036854775807,'0weNj~d','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,NULL), (-9223372036854775807,'LOyp','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,8.000000000000), (99538178542115065,'3ZSCB4mTZZrmLHL',')g','M舤$Hyk@PS',0,6215.465900000000), (1775667144032088600,'4G=*CwoxQ8hID&51G','_Jy--p9uOnDI9Bf2Un','=狷伧互P)藂0#8妦5bS',1,333492.600000000000), (-9223372036854775807,'_15pF','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,0.700000000000), (1775667144032088600,'XFWJua7Bv#Oe%n9g@','_Jy--p9uOnDI9Bf2Un','7块枫n窘@',1,536.402000000000), (-9223372036854775807,'c5eQ4b(8x0t~fCo)iC','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2792.000000000000), (1775667144032088600,'','_Jy--p9uOnDI9Bf2Un','D毜z@',0,26.210000000000), (-9223372036854775807,'seeKeq','@3F3^~sBl4G&kIYpZ5','驎壂裁VYfG-',0,2.985800000000), (7810685745863923195,'9@kPCM7BigPAg4$_f',')NXFIF=vJ7(uV','8霡8VnzG',0,0.457000000000), (3400475181864597903,'_9Gdz0gofEI','','Lo齕躻EE%校摗8$fO鯙p峻',0,29553.990000000000), (5609416006647754759,'XFx=h*QR-Y4gWgP','','=迀V骾%嘰W誃-(巵x!',0,9489.428200000000), (9223372036854775807,'','cdWRmuWoIq','oDD9HZJyf勱J科庛8浽賭h袖',0,12.000000000000), (243833322126326231,'uHzT_tQYFL@DsEzwfr','bH','樁k灑XR=CRhO撛!绁g=检i5',1,693.093900000000), (5471971712899055342,'bw1gy)rsK8lK7uMKq','2bKdjhL1RU+a&)','!牋--嚪璜fJ-莺蕷XK钨傆B8NH',1,67.284000000000), (5434511054005380498,'-&zUUM)@9lqYc+','booJaEVWIIr9a@','j轆MNVr',0,25566.000000000000), (1935102229774639976,'bdDPbUeij8EvUhxf=xQ','','鏢(2闅Ah&s~攭3坫cF韴8蒰7n',0,177.321000000000), (5236837117944388619,'&WGkOfExx!2*v!~fcD','(e','齪E憭D&隅',1,1100.830000000000), (5481405938940158770,'U^GdPEO7qSC@It+','(%T(vby68W&','',1,2724.946500000000), (3145070693304620449,'*muZcn)w(hU^','_4','捪B驝戉8X1亯F曞糘=禈e',1,NULL), (9223372036854775807,'rFZxVn!yED^','Up+wJ','谬y襆',1,560291.370000000000), (6882844011534129022,'WI','OcE=(bL1-(','UL柃摩)8&S匩i9C3v渣bPa苴',0,3043.600000000000), (5807330521589456277,'vWBxf=!e=8#a0WT4xU','c=AE#uX^ffS0','R教b%G覑%G乽0暻MMUK犛v旉',1,7170.080000000000);

drop table if exists `tfe82cdf0`;

CREATE TABLE `tfe82cdf0` (
  `col_44` bigint(20) unsigned NOT NULL DEFAULT '14864164549230664174',
  PRIMARY KEY (`col_44`) /*T![clustered_index] CLUSTERED */,
  KEY `idx_18` (`col_44`),
  KEY `idx_20` (`col_44`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_chinese_ci;
INSERT INTO `tfe82cdf0` VALUES (10977737370755836654), (11086630863791110943), (16013343436836302400);

SELECT 1 FROM (`tfe82cdf0`) JOIN `tb416b66c` GROUP BY `tfe82cdf0`.`col_44` HAVING NOT (`tfe82cdf0`.`col_44` BETWEEN 1 AND 9223372036854775807)
AND `tfe82cdf0`.`col_44`>4683771291453564204;
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v8.0.0-alpha-363-g9b42b9f5a0
Edition: Community
Git Commit Hash: 9b42b9f5a05f721a194b1e6468fd9c409011e7e8
Git Branch: HEAD
UTC Build Time: 2024-03-01 06:59:26
GoVersion: go1.21.6
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on nightly-----------------
----------------------------------------------------------------------
