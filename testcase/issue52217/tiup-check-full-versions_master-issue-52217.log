Start to analyze regression behavior among releases for issue 52217
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v5.4.0-----------------
Server on v5.4.0 started.
Validation failed at run 1. v5.4.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v5.4.0
Edition: Community
Git Commit Hash: 55f3b24c1c9f506bd652ef1d162283541e428872
Git Branch: heads/refs/tags/v5.4.0
UTC Build Time: 2022-01-25 08:41:03
GoVersion: go1.16.4
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v5.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.0.0-----------------
Server on v6.0.0 started.
Validation failed at run 1. v6.0.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.0.0
Edition: Community
Git Commit Hash: 36a9810441ca0e496cbd22064af274b3be771081
Git Branch: heads/refs/tags/v6.0.0
UTC Build Time: 2022-03-31 10:27:58
GoVersion: go1.18
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v6.0.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.1.0-----------------
Server on v6.1.0 started.
Validation failed at run 1. v6.1.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.1.0
Edition: Community
Git Commit Hash: 1a89decdb192cbdce6a7b0020d71128bc964d30f
Git Branch: heads/refs/tags/v6.1.0
UTC Build Time: 2022-06-05 05:09:33
GoVersion: go1.18.2
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false

-----------------End of regression test on v6.1.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.2.0-----------------
Server on v6.2.0 started.
Validation failed at run 1. v6.2.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.2.0
Edition: Community
Git Commit Hash: daf2b17cdfe30c02ce282361009fb5bdb05f2b0e
Git Branch: heads/refs/tags/v6.2.0
UTC Build Time: 2022-08-22 13:38:40
GoVersion: go1.18.5
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.2.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.3.0-----------------
Server on v6.3.0 started.
Validation failed at run 1. v6.3.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.3.0
Edition: Community
Git Commit Hash: ecd67531f1721d3e49eb15a202ac7c0ae02291ec
Git Branch: heads/refs/tags/v6.3.0
UTC Build Time: 2022-09-23 14:21:08
GoVersion: go1.19.1
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.3.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.4.0-----------------
Server on v6.4.0 started.
Validation failed at run 1. v6.4.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.4.0
Edition: Community
Git Commit Hash: cf36a9ce2fe1039db3cf3444d51930b887df18a1
Git Branch: heads/refs/tags/v6.4.0
UTC Build Time: 2022-11-13 05:15:45
GoVersion: go1.19
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.5.0-----------------
Server on v6.5.0 started.
Validation failed at run 1. v6.5.0 is a bad label.
Expected: 

Actual: 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1064 (42000) at line 3: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 10 column 60 near "array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin" 
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.5.0
Edition: Community
Git Commit Hash: 706c3fa3c526cdba5b3e9f066b1a568fb96c56e3
Git Branch: heads/refs/tags/v6.5.0
UTC Build Time: 2022-12-27 03:42:38
GoVersion: go1.19.3
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.5.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v6.6.0-----------------
Server on v6.6.0 started.
Validation failed at run 1. v6.6.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v6.6.0
Edition: Community
Git Commit Hash: f4ca0821fb96a2bdd37d2fb97eb26c07fc58d4e4
Git Branch: heads/refs/tags/v6.6.0
UTC Build Time: 2023-02-17 14:39:38
GoVersion: go1.19.5
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v6.6.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.0.0-----------------
Server on v7.0.0 started.
Validation failed at run 1. v7.0.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.0.0
Edition: Community
Git Commit Hash: 7376954cd868dbc44fc3015c9ef89c53749339a7
Git Branch: heads/refs/tags/v7.0.0
UTC Build Time: 2023-03-29 13:22:40
GoVersion: go1.20.2
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.0.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.1.0-----------------
Server on v7.1.0 started.
Validation failed at run 1. v7.1.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.1.0
Edition: Community
Git Commit Hash: 635a4362235e8a3c0043542e629532e3c7bb2756
Git Branch: heads/refs/tags/v7.1.0
UTC Build Time: 2023-05-30 10:50:03
GoVersion: go1.20.3
Race Enabled: false
TiKV Min Version: 6.2.0-alpha
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.1.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.2.0-----------------
Server on v7.2.0 started.
Validation failed at run 1. v7.2.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.2.0
Edition: Community
Git Commit Hash: 9fd5f4a8e4f273a60fbe7d3848f85a1be8f0600b
Git Branch: heads/refs/tags/v7.2.0
UTC Build Time: 2023-06-27 14:56:57
GoVersion: go1.20.5
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.2.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.3.0-----------------
Server on v7.3.0 started.
Validation failed at run 1. v7.3.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.3.0
Edition: Community
Git Commit Hash: 40b72e7a9a4fc9670d4c5d974dd503a3c6097471
Git Branch: heads/refs/tags/v7.3.0
UTC Build Time: 2023-08-08 09:27:28
GoVersion: go1.20.7
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.3.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.4.0-----------------
Server on v7.4.0 started.
Validation failed at run 1. v7.4.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.4.0
Edition: Community
Git Commit Hash: 38cb4f3312be9199a983c0ef282d2ea2e28a7824
Git Branch: heads/refs/tags/v7.4.0
UTC Build Time: 2023-10-10 14:10:02
GoVersion: go1.21.0
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.4.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.5.0-----------------
Server on v7.5.0 started.
Validation failed at run 1. v7.5.0 is a bad label.
Expected: 

Actual: 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
ERROR 1105 (HY000) at line 16: Invalid JSON bytes
-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.5.0
Edition: Community
Git Commit Hash: 069631e2ecfedc000ffb92c67207bea81380f020
Git Branch: heads/refs/tags/v7.5.0
UTC Build Time: 2023-11-24 08:41:10
GoVersion: go1.21.3
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.5.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v7.6.0-----------------
Server on v7.6.0 started.
Validation passed. v7.6.0 is a good label
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 

-----------------TiDB Version-----------------
tidb_version()
Release Version: v7.6.0
Edition: Community
Git Commit Hash: 52794d985ba6325d75a714d4eaa0838d59425eb6
Git Branch: heads/refs/tags/v7.6.0
UTC Build Time: 2024-01-22 14:13:53
GoVersion: go1.21.5
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v7.6.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on v8.0.0-----------------
Server on v8.0.0 started.
Validation failed at run 1. v8.0.0 is a bad label.
Expected: 

Actual: 
r0
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
AZf=M=-6dJD%d#cv
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
Pt~x^wR9
%brVjv-q@$sZ
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
r0
S6Z#hPn0Qm4L2A
%&RJHYjI1R!!aH
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
Pt~x^wR9
%brVjv-q@$sZ
AZf=M=-6dJD%d#cv
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
r0
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
AZf=M=-6dJD%d#cv
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
Pt~x^wR9
%brVjv-q@$sZ
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
r0
S6Z#hPn0Qm4L2A
%&RJHYjI1R!!aH
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
Pt~x^wR9
%brVjv-q@$sZ
AZf=M=-6dJD%d#cv
-----------------TiDB Version-----------------
tidb_version()
Release Version: v8.0.0
Edition: Community
Git Commit Hash: 8ba1fa452b1ccdbfb85879ea94b9254aabba2916
Git Branch: HEAD
UTC Build Time: 2024-03-28 14:22:34
GoVersion: go1.21.6
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on v8.0.0-----------------
----------------------------------------------------------------------
mysqld is alive
----------------------------------------------------------------------
-----------------Regression Test Result on nightly-----------------
Server on nightly started.
Validation failed at run 1. nightly is a bad label.
Expected: 

Actual: 
r0
AZf=M=-6dJD%d#cv
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
$
P4W9z5Of#s$Lt8_
8
xIBo^Kg~J
Pt~x^wR9
%brVjv-q@$sZ
r0
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
AZf=M=-6dJD%d#cv
UuMs5$%8sxzf&lz~Q
=(5V4T9
VCBVLsod184P
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
Pt~x^wR9
%brVjv-q@$sZ
-----------------Test Case-----------------
mysql -h 127.0.0.1 -P 4000 -u root -D test --local-infile=true < issue52217_testcase.sql
issue52217_testcase.sql: 
drop table if exists `tl52cb2746`;

CREATE TABLE `tl52cb2746` (
  `col_29` varchar(63) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'EQ',
  `col_30` float DEFAULT NULL,
  `col_31` varchar(389) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `col_32` json NOT NULL,
  `col_33` char(18) COLLATE gbk_bin DEFAULT NULL,
  `col_34` tinyint(1) NOT NULL DEFAULT '1',
  `col_35` json NOT NULL,
  KEY `idx_11` (`col_34`),
  KEY `idx_12` (`col_33`,(cast(`col_35` as binary(64) array)),`col_30`),
  KEY `idx_13` ((cast(`col_35` as binary(64) array)))
) ENGINE=InnoDB DEFAULT CHARSET=gbk COLLATE=gbk_bin;

INSERT INTO `tl52cb2746` VALUES('+_l0#90473',2009.2867,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('',1935.2688,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',8176.98,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',5220.708,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('a9Yg8&=ZonH',5174.566,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('sQv',4219.7456,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',219.94193,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ywK',6188.0156,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4514.5938,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('i%mK^zgrl',597.5764,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('fY~^C~+',6492.04,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('r8gtMaK_Vf',8605.395,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('1B0O7',5981.5947,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('(',8008.345,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('ukZ$t',4305.1294,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','8',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',71.87508,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6215.486,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',2660.1921,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',6738.0728,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9645.761,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4404.665,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',9483.261,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',3726.922,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('+_l0#90473',4731.6104,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','=(5V4T9',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('NZohcQx*=YW',2832.2747,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','AZf=M=-6dJD%d#cv',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('tP!6iKi@-V&62mKGv',5056.859,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%&RJHYjI1R!!aH',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('V6PMSPJuq',1524.5048,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','S6Z#hPn0Qm4L2A',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('0GK8YW$%',7298.2266,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','Pt~x^wR9',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('CktPk%&r(6%%Y4A4dk',539.1338,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','xIBo^Kg~J',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('Y',2911.058,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','VCBVLsod184P',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('h_FKsw5',3247.023,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','UuMs5$%8sxzf&lz~Q',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('++VUUpxu$',297.48624,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','$',0,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('s~Yv_(O3_Ub',3842.9373,'YHsN9_!Ckj*MhIdp-RB','[9189979195866379740, 649848734400404428, 8357419521788875518, 2336559120029956660, 1487576425277540619]','%brVjv-q@$sZ',1,'[\"HLT21nhPeXXWqnXRD2AYTq1wSTe7ltQhszWjEy2dzg9n5lMF9Aqg3ckS7s5303KG\", \"dsYySFDsrj9gctBfJ92KNZLL8BRS20or9l26yMGU3YWr7A1vTJgy8HFv9ceoqiW3\", \"XNbgnugihMlAZXWTDSQnsHzWiIjgyaXPNC4sIqdbKuo8KsRuIiYWswzzjcRh4jN6\"]'),('GV',4770.062,'@@m1PCFob+','[1951872545212298832, 8877498115533231225, 3259686659868716337, 7659539765275921593, 8374602560906332385]','P4W9z5Of#s$Lt8_',0,'[\"not8NkgBPmm6ZgfODOQbSSIbzGfocklKl8LrKkuc1r4dVDZZQiJJEyhKkls1GsqV\"]');

SELECT /*+ USE_INDEX_MERGE(`tl52cb2746` )*/ TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);

SELECT  TRIM(`tl52cb2746`.`col_33`) AS `r0` FROM `tl52cb2746` WHERE `tl52cb2746`.`col_34` BETWEEN 1 AND 0 OR JSON_CONTAINS(`tl52cb2746`.`col_35`, '"bLVmVzQNNxn9k7an0wtzXwjjcT1HrT3Ek3a1LLvyWvnxaXjPwvTC22J5wlGCx5bM"') GROUP BY `tl52cb2746`.`col_34`,`tl52cb2746`.`col_33` HAVING `tl52cb2746`.`col_34` IN (0,1,0,0,1);
-----------------Test Result-----------------
Result : 
r0
AZf=M=-6dJD%d#cv
=(5V4T9
VCBVLsod184P
UuMs5$%8sxzf&lz~Q
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
$
P4W9z5Of#s$Lt8_
8
xIBo^Kg~J
Pt~x^wR9
%brVjv-q@$sZ
r0
%&RJHYjI1R!!aH
S6Z#hPn0Qm4L2A
AZf=M=-6dJD%d#cv
UuMs5$%8sxzf&lz~Q
=(5V4T9
VCBVLsod184P
8
xIBo^Kg~J
$
P4W9z5Of#s$Lt8_
Pt~x^wR9
%brVjv-q@$sZ
-----------------TiDB Version-----------------
tidb_version()
Release Version: v8.1.0-alpha-9-g8f5f608dd4
Edition: Community
Git Commit Hash: 8f5f608dd4990dddcc6d60a8ca08ecafcc97e5b6
Git Branch: HEAD
UTC Build Time: 2024-04-02 09:30:08
GoVersion: go1.21.6
Race Enabled: false
Check Table Before Drop: false
Store: tikv

-----------------End of regression test on nightly-----------------
----------------------------------------------------------------------
